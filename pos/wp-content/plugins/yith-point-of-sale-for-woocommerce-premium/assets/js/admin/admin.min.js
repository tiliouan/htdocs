!function(d){var i=function(){var e=d(document).find(".wp-list-table tr.type-yith-pos-register");0<e.length&&d.each(e,function(){var e=d(this),t=e.find(".yith-pos-register-toggle-enabled input").val(),e=e.find(".yith-plugin-fw__action-button--open-register-action");"yes"!==t?e.hide():e.show()})};i(),d(document).on("click",".yith-pos-compact-list__show-more, .yith-pos-compact-list__hide-more",function(e){e.stopPropagation();var e=d(this).closest(".yith-pos-compact-list"),t=e.find(".yith-pos-compact-list__hidden-items");e.toggleClass("yith-pos-compact-list--open"),t.length&&(e.is(".yith-pos-compact-list--open")?t.slideDown(300):t.slideUp(300))}),d(document).on("change",".yith-pos-store-toggle-enabled input",function(){var e="yes"===d(this).val()?"yes":"no",t=d(this).closest(".yith-pos-store-toggle-enabled"),o=t.data("store-id"),s=t.data("security");t.block(yith_pos.blockParams),d.ajax({type:"POST",data:{action:"yith_pos_store_toggle_enabled",id:o,enabled:e,security:s},url:ajaxurl,success:function(e){"undefined"!=typeof e.error&&alert(e.error)},complete:function(){t.unblock()}})}),d(document).on("change",".yith-pos-register-toggle-enabled input",function(){var e="yes"===d(this).val()?"yes":"no",t=d(this).closest(".yith-pos-register-toggle-enabled"),o=t.data("register-id"),s=t.data("security");t.block(yith_pos.blockParams),d.ajax({type:"POST",data:{action:"yith_pos_register_toggle_enabled",id:o,enabled:e,security:s},url:ajaxurl,success:function(e){"undefined"!=typeof e.error&&alert(e.error)},complete:function(){t.unblock(),i()}})}),d(".yith-pos-create-user-form__container").each(function(){var s=d(this),e=s.find(".yith-pos-create-user-form"),t=s.find(".yith-pos-create-user-form__add"),o=s.data("select2-to-populate"),i=o?d(o):{},n=e.find(".yith-pos-create-user-form__field"),a=e.find(".yith-pos-create-user-form__message"),r=function(){e.slideDown(300),s.addClass("yith-pos-create-user-form--open")},c=function(){e.slideUp(300),s.removeClass("yith-pos-create-user-form--open")},l=function(){e.find(".yith-pos-create-user-form__field--to-reset").val("")};t.on("click",function(){s.is(".yith-pos-create-user-form--open")?(c(),t.html(t.data("text")).removeClass("closed")):(r(),yith_pos.scrollTo(t),t.html(t.data("close-text")).addClass("closed"))}),s.on("click",".yith-pos-create-user-form__save",function(){var e,t,o={};a.html(""),n.each(function(){d(this).trigger("validate_field"),e=d(this).data("name"),t=d(this).val(),o[e]=t}),0===s.find(".validate-error").length&&(s.block(yith_pos.blockParams),d.ajax({type:"POST",data:o,url:ajaxurl,success:function(e){var t;"undefined"!=typeof e.success&&e.success?i&&i.length&&(t=new Option(e.user_name_html,e.user_id,!0,!0),i.append(t).trigger("change"),yith_pos.scrollTo(i),l(),c()):a.html('<p class="validate-error">'+e.error+"</p>")},complete:function(){s.unblock()}}))})}),d(document).on("click",".yith-pos-settings-box__toggle",function(e){var e=d(e.target).closest(".yith-pos-settings-box"),t=e.find(".yith-pos-settings-box__content");e.is(".yith-pos-settings-box--closed")?t.slideDown(400):t.slideUp(400),e.toggleClass("yith-pos-settings-box--closed")})}(jQuery);
!function(e){"use strict";"undefined"!=typeof onboardingJS?{form:e("#activation-form"),init:function(){if(!this.form.length)return!1;this.form.on("submit",this.submit.bind(this)),this.form.on("focusout",'input[name="licence_key"]',this.validateField.bind(this)),this.form.on("focusout",'input[name="email"]',this.validateField.bind(this))},getFormData:function(){return this.form.serializeArray()},addError:function(e,F){e.addClass("validation-error"),this.addErrorMessage(e,onboardingJS.error.replace("%field%",onboardingJS[F]))},addErrorMessage:function(e,F,u){e.siblings(".error").length?e.siblings(".error").html(F):"before"===u?e.before('<span class="error">'+F+"</span>"):e.after('<span class="error">'+F+"</span>")},removeError:function(e){e.removeClass("validation-error"),e.next(".error").remove()},validateField:function(F){var u,a=e(F.currentTarget),r=a.attr("name"),i=a.val();"licence_key"===r?u=new RegExp(/^[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}$/g):"email"===r&&(u=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i)),!i||void 0!==u&&!u.test(i.toLowerCase())?this.addError(a,r):this.removeError(a)},validateFields:function(){return this.form.find('input[name="email"]').focusout(),this.form.find('input[name="licence_key"]').focusout(),!this.form.find(".validation-error").length},submit:function(F){if(F.preventDefault(),!this.validateFields())return!1;const u=this,a=u.form.closest("#content");let r=u.getFormData();r.push({name:"action",value:onboardingJS.ajaxAction},{name:"request",value:"licence_activation"},{name:"security",value:onboardingJS.ajaxNonce}),e.ajax({url:onboardingJS.ajaxUrl,data:r,type:"POST",dataType:"json",beforeSend:function(){a.addClass("loading")},success:function(e){if(!0===e.success){var F=wp.template("success-message");a.hide().html(F()).fadeIn()}else u.addErrorMessage(u.form.find('input[type="submit"]'),e.data?.message,"before")},error:function(e,F,u){console.log(e,F,u)},complete:function(){a.removeClass("loading")}})}}.init():console.error("Missing required data yithLicenseData")}(jQuery);